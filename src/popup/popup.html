<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ScanVui</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body data-theme="light">
  <div class="app">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <img src="../../icons/icon48.png" alt="ScanVui" class="logo">
        <span class="app-name">ScanVui</span>
      </div>
      <div class="header-right">
        <button id="themeToggle" class="icon-btn" title="Chuyá»ƒn theme">
          <span class="icon-light">â˜€ï¸</span>
          <span class="icon-dark">ğŸŒ™</span>
        </button>
        <span class="version">v3.1</span>
      </div>
    </header>

    <!-- Main Action -->
    <div class="main-action">
      <button id="scanBtn" class="scan-btn">
        <span class="scan-icon">ğŸ”</span>
        <span class="scan-text">QuÃ©t trang</span>
      </button>
      <div id="pageInfo" class="page-info"></div>
    </div>

    <!-- Loading State -->
    <div id="loading" class="loading hidden">
      <div class="spinner"></div>
      <span>Äang phÃ¢n tÃ­ch...</span>
    </div>

    <!-- Error State -->
    <div id="error" class="error hidden">
      <span class="error-icon">âš ï¸</span>
      <span id="errorMessage"></span>
    </div>

    <!-- Tab Navigation -->
    <nav id="tabNav" class="tab-nav hidden">
      <button class="tab-btn active" data-tab="results">
        <span class="tab-icon">ğŸ“Š</span>
        <span class="tab-label">Káº¿t quáº£</span>
      </button>
      <button class="tab-btn" data-tab="tools">
        <span class="tab-icon">ğŸ› ï¸</span>
        <span class="tab-label">CÃ´ng cá»¥</span>
      </button>
      <button class="tab-btn" data-tab="export">
        <span class="tab-icon">ğŸ“¤</span>
        <span class="tab-label">Xuáº¥t</span>
      </button>
    </nav>

    <!-- Tab Content -->
    <div id="tabContent" class="tab-content hidden">
      
      <!-- Results Tab -->
      <div id="resultsTab" class="tab-panel active">
        <!-- Score Cards -->
        <div id="scoreCards" class="score-cards"></div>

        <!-- Issues List -->
        <div id="issuesList" class="issues-section">
          <div class="section-title">
            <span>âš ï¸ Váº¥n Ä‘á» cáº§n sá»­a</span>
            <span id="issuesCount" class="badge">0</span>
          </div>
          <div id="issuesContent" class="issues-content"></div>
        </div>

        <!-- Quick Stats -->
        <div class="section-title standalone">ğŸ“ˆ Thá»‘ng kÃª nhanh</div>
        <div id="quickStats" class="quick-stats"></div>

        <!-- Detailed Sections (Collapsible) -->
        <div id="detailSections" class="detail-sections">
          <details class="detail-group">
            <summary>ğŸ·ï¸ Meta & SEO</summary>
            <div id="metaDetail" class="detail-content"></div>
          </details>
          
          <details class="detail-group">
            <summary>ğŸ“ Forms & Inputs</summary>
            <div id="formsDetail" class="detail-content"></div>
          </details>
          
          <details class="detail-group">
            <summary>â™¿ Accessibility</summary>
            <div id="a11yDetail" class="detail-content"></div>
          </details>
          
          <details class="detail-group">
            <summary>ğŸ”§ Chi tiáº¿t ká»¹ thuáº­t</summary>
            <div id="techDetail" class="detail-content"></div>
          </details>
        </div>
      </div>

      <!-- Tools Tab -->
      <div id="toolsTab" class="tab-panel">
        <div class="tools-grid">
          <!-- X-Ray Vision -->
          <div class="tool-card" data-tool="xray">
            <div class="tool-header">
              <span class="tool-icon">ğŸ‘ï¸</span>
              <span class="tool-name">X-Ray Vision</span>
            </div>
            <p class="tool-desc">Highlight elements trÃªn trang theo loáº¡i</p>
            <div class="tool-options xray-options">
              <label><input type="checkbox" data-xray="forms" checked> Forms</label>
              <label><input type="checkbox" data-xray="inputs" checked> Inputs</label>
              <label><input type="checkbox" data-xray="buttons" checked> Buttons</label>
              <label><input type="checkbox" data-xray="links"> Links</label>
              <label><input type="checkbox" data-xray="headings"> Headings</label>
              <label><input type="checkbox" data-xray="images"> Images</label>
            </div>
            <div class="tool-actions">
              <button class="tool-btn primary" id="xrayApply" aria-label="Báº­t X-Ray Vision">Báº­t X-Ray</button>
              <button class="tool-btn" id="xrayClear" aria-label="Táº¯t X-Ray Vision">Táº¯t</button>
            </div>
          </div>

          <!-- Form Filler -->
          <div class="tool-card" data-tool="formfiller">
            <div class="tool-header">
              <span class="tool-icon">ğŸ§ª</span>
              <span class="tool-name">Form Filler</span>
            </div>
            <p class="tool-desc">Tá»± Ä‘á»™ng Ä‘iá»n form vá»›i dá»¯ liá»‡u test</p>
            <div class="tool-options">
              <select id="fillLocale">
                <option value="vi">Tiáº¿ng Viá»‡t</option>
                <option value="en">English</option>
              </select>
              <select id="fillMode">
                <option value="realistic">Thá»±c táº¿</option>
                <option value="random">Ngáº«u nhiÃªn</option>
                <option value="edge">Edge cases</option>
              </select>
            </div>
            <div class="tool-actions">
              <button class="tool-btn primary" id="fillForms">Äiá»n form</button>
              <button class="tool-btn" id="clearForms">XÃ³a</button>
            </div>
          </div>

          <!-- Selector Picker -->
          <div class="tool-card" data-tool="selector">
            <div class="tool-header">
              <span class="tool-icon">ğŸ¯</span>
              <span class="tool-name">Copy Selector</span>
            </div>
            <p class="tool-desc">Láº¥y CSS/XPath/Playwright selector</p>
            <div id="selectorResult" class="selector-result hidden">
              <div class="selector-row">
                <span class="selector-label">CSS:</span>
                <code id="cssSelector">-</code>
                <button class="copy-mini" data-copy="css" aria-label="Copy CSS selector">ğŸ“‹</button>
              </div>
              <div class="selector-row">
                <span class="selector-label">XPath:</span>
                <code id="xpathSelector">-</code>
                <button class="copy-mini" data-copy="xpath" aria-label="Copy XPath">ğŸ“‹</button>
              </div>
              <div class="selector-row">
                <span class="selector-label">Playwright:</span>
                <code id="playwrightSelector">-</code>
                <button class="copy-mini" data-copy="playwright" aria-label="Copy Playwright selector">ğŸ“‹</button>
              </div>
            </div>
            <div class="tool-actions">
              <button class="tool-btn primary" id="pickElement" aria-label="Chá»n element tá»« trang">Chá»n element</button>
            </div>
          </div>

          <!-- Responsive Test -->
          <div class="tool-card" data-tool="responsive">
            <div class="tool-header">
              <span class="tool-icon">ğŸ“±</span>
              <span class="tool-name">Responsive</span>
            </div>
            <p class="tool-desc">Test vá»›i cÃ¡c kÃ­ch thÆ°á»›c mÃ n hÃ¬nh</p>
            <div class="viewport-buttons">
              <button class="viewport-btn" data-w="375" data-h="667">iPhone SE</button>
              <button class="viewport-btn" data-w="390" data-h="844">iPhone 14</button>
              <button class="viewport-btn" data-w="768" data-h="1024">iPad</button>
              <button class="viewport-btn" data-w="1920" data-h="1080">Desktop</button>
            </div>
          </div>

          <!-- A11y Simulator -->
          <div class="tool-card" data-tool="a11y">
            <div class="tool-header">
              <span class="tool-icon">â™¿</span>
              <span class="tool-name">A11y Simulator</span>
            </div>
            <p class="tool-desc">MÃ´ phá»ng cÃ¡c dáº¡ng khiáº¿m thá»‹</p>
            <div class="sim-buttons">
              <button class="sim-btn" data-sim="protanopia">ğŸ”´ MÃ¹ Ä‘á»</button>
              <button class="sim-btn" data-sim="deuteranopia">ğŸŸ¢ MÃ¹ xanh lÃ¡</button>
              <button class="sim-btn" data-sim="tritanopia">ğŸ”µ MÃ¹ xanh</button>
              <button class="sim-btn" data-sim="achromatopsia">âš« MÃ¹ mÃ u</button>
              <button class="sim-btn" data-sim="blurry">ğŸ‘“ Má»</button>
            </div>
            <div class="tool-actions">
              <button class="tool-btn" id="resetA11y">KhÃ´i phá»¥c</button>
            </div>
          </div>

          <!-- Tech Stack -->
          <div class="tool-card" data-tool="techstack">
            <div class="tool-header">
              <span class="tool-icon">âš™ï¸</span>
              <span class="tool-name">Tech Stack</span>
            </div>
            <p class="tool-desc">PhÃ¡t hiá»‡n frameworks & thÆ° viá»‡n</p>
            <div id="techStackResult" class="techstack-result"></div>
            <div class="tool-actions">
              <button class="tool-btn primary" id="detectTech">PhÃ¡t hiá»‡n</button>
            </div>
          </div>

          <!-- Media Scanner -->
          <div class="tool-card" data-tool="media">
            <div class="tool-header">
              <span class="tool-icon">ğŸ–¼ï¸</span>
              <span class="tool-name">Media Scanner</span>
            </div>
            <p class="tool-desc">TÃ¬m vÃ  táº£i hÃ¬nh áº£nh, video</p>
            <div id="mediaSummary" class="media-summary"></div>
            <div id="mediaList" class="media-list"></div>
            <div class="tool-actions">
              <button class="tool-btn primary" id="scanMedia">QuÃ©t media</button>
              <button class="tool-btn" id="downloadAllMedia" disabled>Táº£i táº¥t cáº£</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Export Tab -->
      <div id="exportTab" class="tab-panel">
        <div class="export-section">
          <h3>ğŸ“¥ Táº£i bÃ¡o cÃ¡o</h3>
          <div class="export-grid">
            <button class="export-btn" data-format="html">
              <span class="export-icon">ğŸŒ</span>
              <span class="export-name">HTML</span>
              <span class="export-desc">BÃ¡o cÃ¡o Ä‘áº¹p</span>
            </button>
            <button class="export-btn" data-format="markdown">
              <span class="export-icon">ğŸ“</span>
              <span class="export-name">Markdown</span>
              <span class="export-desc">Cho GitHub</span>
            </button>
            <button class="export-btn" data-format="json">
              <span class="export-icon">ğŸ“¦</span>
              <span class="export-name">JSON</span>
              <span class="export-desc">Dá»¯ liá»‡u thÃ´</span>
            </button>
            <button class="export-btn" data-format="csv">
              <span class="export-icon">ğŸ“Š</span>
              <span class="export-name">CSV</span>
              <span class="export-desc">Cho Excel</span>
            </button>
          </div>
        </div>

        <div class="export-section">
          <h3>ğŸ“‹ Sao chÃ©p nhanh</h3>
          <div class="quick-copy">
            <button class="copy-btn" id="copyJSON">ğŸ“‹ Copy JSON</button>
            <button class="copy-btn" id="copyMarkdown">ğŸ“„ Copy Markdown</button>
            <button class="copy-btn" id="copySummary">ğŸ“Š Copy tÃ³m táº¯t</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Welcome Screen (shown when no scan) -->
    <div id="welcomeScreen" class="welcome">
      <div class="welcome-content">
        <div class="welcome-icon">ğŸ”</div>
        <h2>ChÃ o má»«ng Ä‘áº¿n ScanVui!</h2>
        <p>CÃ´ng cá»¥ kiá»ƒm tra SEO & Accessibility</p>
        <div class="welcome-steps">
          <div class="step">
            <span class="step-num">1</span>
            <span>Má»Ÿ trang web cáº§n kiá»ƒm tra</span>
          </div>
          <div class="step">
            <span class="step-num">2</span>
            <span>Nháº¥n <strong>QuÃ©t trang</strong></span>
          </div>
          <div class="step">
            <span class="step-num">3</span>
            <span>Xem káº¿t quáº£ vÃ  sá»­a lá»—i</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
